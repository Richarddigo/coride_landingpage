const translations = {
    en: {
        cta: "I want to try it ðŸš€",
        hero: {
            title: "Share transportation with people from your flight",
            subtitle: "Don't travel alone to the airport. Connect with passengers on your flight, share taxi or rideshare, and save up to 70% on transportation costs.",
            stats: {
                early: "Early testers",
                saved: "Avg. saved",
                setup: "Setup time"
            }
        },
        how: {
            title: "How it works",
            step1: {
                title: "Enter your flight",
                desc: "Add your flight number and travel date"
            },
            step2: {
                title: "Find travel buddies",
                desc: "See other passengers looking to share rides"
            },
            step3: {
                title: "Connect & save",
                desc: "Chat, coordinate, and share transportation costs"
            }
        },
        benefits: {
            title: "Why Coride?",
            save: {
                title: "Save money",
                desc: "Split taxi, Uber or rideshare costs with other passengers"
            },
            eco: {
                title: "Be sustainable",
                desc: "Reduce carbon footprint by sharing vehicles"
            },
            social: {
                title: "Make connections",
                desc: "Meet interesting people from your same flight"
            },
            safe: {
                title: "Travel safely",
                desc: "Verified users from the same flight"
            }
        },
        testimonials: {
            title: "What early testers say",
            t1: {
                text: "Amazing! I found 3 people to share a taxi from Madrid airport and saved â‚¬15. Super easy!",
                name: "MarÃ­a G.",
                detail: "Madrid â†’ Barcelona"
            },
            t2: {
                text: "Perfect for frequent travelers. I use it every week and always find someone going my way.",
                name: "Thomas M.",
                detail: "Berlin â†’ Munich"
            },
            t3: {
                text: "Not only did I save money, but I made a new friend who's also a digital nomad!",
                name: "Laura S.",
                detail: "Barcelona â†’ Valencia"
            },
            airports: "Currently testing in:",
            more: "+ more coming"
        },
        cta: {
            title: "Join the first 50 testers",
            subtitle: "Get early access and start saving on your next trip",
            note: "âœ¨ Early testers get lifetime premium features"
        },
        footer: {
            tagline: "Travel better together",
            rights: "All rights reserved"
        },
        form: {
            title: "Join the beta! ðŸš€",
            subtitle: "Be among the first to try Coride and travel smarter",
            name: "Name",
            email: "Email",
            flight: "Next flight (optional)",
            beta: "I want to be a beta tester",
            submit: "Join waitlist",
            privacy: "We respect your privacy. No spam, ever.",
            success: {
                title: "Welcome aboard!",
                message: "You're on the list. We'll contact you soon with early access."
            }
        }
    },
    es: {
        cta: "Quiero probarlo ðŸš€",
        hero: {
            title: "Comparte transporte con gente de tu vuelo",
            subtitle: "No viajes solo al aeropuerto. Conecta con pasajeros de tu vuelo, comparte taxi o rideshare, y ahorra hasta un 70% en costes de transporte.",
            stats: {
                early: "Primeros testers",
                saved: "Ahorro medio",
                setup: "Tiempo de setup"
            }
        },
        how: {
            title: "CÃ³mo funciona",
            step1: {
                title: "Introduce tu vuelo",
                desc: "AÃ±ade tu nÃºmero de vuelo y fecha de viaje"
            },
            step2: {
                title: "Encuentra compaÃ±eros",
                desc: "Ve otros pasajeros buscando compartir viaje"
            },
            step3: {
                title: "Conecta y ahorra",
                desc: "Chatea, coordina y comparte costes de transporte"
            }
        },
        benefits: {
            title: "Â¿Por quÃ© Coride?",
            save: {
                title: "Ahorra dinero",
                desc: "Divide los costes de taxi, Uber o rideshare con otros pasajeros"
            },
            eco: {
                title: "SÃ© sostenible",
                desc: "Reduce tu huella de carbono compartiendo vehÃ­culos"
            },
            social: {
                title: "Haz conexiones",
                desc: "Conoce gente interesante de tu mismo vuelo"
            },
            safe: {
                title: "Viaja seguro",
                desc: "Usuarios verificados del mismo vuelo"
            }
        },
        testimonials: {
            title: "QuÃ© dicen los primeros testers",
            t1: {
                text: "Â¡IncreÃ­ble! EncontrÃ© a 3 personas para compartir taxi desde el aeropuerto de Madrid y ahorrÃ© 15â‚¬. Â¡SÃºper fÃ¡cil!",
                name: "MarÃ­a G.",
                detail: "Madrid â†’ Barcelona"
            },
            t2: {
                text: "Perfecto para viajeros frecuentes. Lo uso cada semana y siempre encuentro a alguien que va en mi direcciÃ³n.",
                name: "Thomas M.",
                detail: "BerlÃ­n â†’ MÃºnich"
            },
            t3: {
                text: "No solo ahorrÃ© dinero, Â¡hice un nuevo amigo que tambiÃ©n es nÃ³mada digital!",
                name: "Laura S.",
                detail: "Barcelona â†’ Valencia"
            },
            airports: "Actualmente probando en:",
            more: "+ mÃ¡s prÃ³ximamente"
        },
        cta: {
            title: "Ãšnete a los primeros 50 testers",
            subtitle: "Consigue acceso anticipado y empieza a ahorrar en tu prÃ³ximo viaje",
            note: "âœ¨ Los primeros testers obtienen funciones premium de por vida"
        },
        footer: {
            tagline: "Viaja mejor juntos",
            rights: "Todos los derechos reservados"
        },
        form: {
            title: "Â¡Ãšnete a la beta! ðŸš€",
            subtitle: "SÃ© de los primeros en probar Coride y viajar mÃ¡s inteligente",
            name: "Nombre",
            email: "Correo electrÃ³nico",
            flight: "PrÃ³ximo vuelo (opcional)",
            beta: "Quiero ser beta tester",
            submit: "Unirme a la lista",
            privacy: "Respetamos tu privacidad. Sin spam, nunca.",
            success: {
                title: "Â¡Bienvenido a bordo!",
                message: "EstÃ¡s en la lista. Te contactaremos pronto con acceso anticipado."
            }
        }
    },
    de: {
        cta: "Ich mÃ¶chte es ausprobieren ðŸš€",
        hero: {
            title: "Teile Transportmittel mit Leuten von deinem Flug",
            subtitle: "Reise nicht allein zum Flughafen. Verbinde dich mit Passagieren deines Flugs, teile ein Taxi oder Rideshare und spare bis zu 70% der Transportkosten.",
            stats: {
                early: "Erste Tester",
                saved: "Durchschn. gespart",
                setup: "Setup-Zeit"
            }
        },
        how: {
            title: "Wie es funktioniert",
            step1: {
                title: "Gib deinen Flug ein",
                desc: "FÃ¼ge deine Flugnummer und Reisedatum hinzu"
            },
            step2: {
                title: "Finde Reisepartner",
                desc: "Sieh andere Passagiere, die Fahrten teilen mÃ¶chten"
            },
            step3: {
                title: "Verbinde & spare",
                desc: "Chatte, koordiniere und teile Transportkosten"
            }
        },
        benefits: {
            title: "Warum Coride?",
            save: {
                title: "Geld sparen",
                desc: "Teile Taxi-, Uber- oder Rideshare-Kosten mit anderen Passagieren"
            },
            eco: {
                title: "Sei nachhaltig",
                desc: "Reduziere deinen CO2-FuÃŸabdruck durch gemeinsame Fahrzeuge"
            },
            social: {
                title: "KnÃ¼pfe Kontakte",
                desc: "Triff interessante Menschen von deinem Flug"
            },
            safe: {
                title: "Reise sicher",
                desc: "Verifizierte Benutzer vom gleichen Flug"
            }
        },
        testimonials: {
            title: "Was erste Tester sagen",
            t1: {
                text: "Fantastisch! Ich fand 3 Leute, um ein Taxi vom Flughafen Madrid zu teilen und sparte 15â‚¬. Super einfach!",
                name: "MarÃ­a G.",
                detail: "Madrid â†’ Barcelona"
            },
            t2: {
                text: "Perfekt fÃ¼r Vielreisende. Ich nutze es jede Woche und finde immer jemanden, der in meine Richtung fÃ¤hrt.",
                name: "Thomas M.",
                detail: "Berlin â†’ MÃ¼nchen"
            },
            t3: {
                text: "Ich habe nicht nur Geld gespart, sondern auch einen neuen Freund gefunden, der auch digitaler Nomade ist!",
                name: "Laura S.",
                detail: "Barcelona â†’ Valencia"
            },
            airports: "Derzeit im Test in:",
            more: "+ weitere folgen"
        },
        cta: {
            title: "Werde einer der ersten 50 Tester",
            subtitle: "Erhalte frÃ¼hen Zugang und spare bei deiner nÃ¤chsten Reise",
            note: "âœ¨ FrÃ¼he Tester erhalten lebenslang Premium-Funktionen"
        },
        footer: {
            tagline: "Reise besser zusammen",
            rights: "Alle Rechte vorbehalten"
        },
        form: {
            title: "Tritt der Beta bei! ðŸš€",
            subtitle: "Sei einer der Ersten, die Coride ausprobieren und smarter reisen",
            name: "Name",
            email: "E-Mail",
            flight: "NÃ¤chster Flug (optional)",
            beta: "Ich mÃ¶chte Beta-Tester werden",
            submit: "Warteliste beitreten",
            privacy: "Wir respektieren deine PrivatsphÃ¤re. Kein Spam, niemals.",
            success: {
                title: "Willkommen an Bord!",
                message: "Du bist auf der Liste. Wir kontaktieren dich bald mit frÃ¼hem Zugang."
            }
        }
    }
};

// Get nested property from object using dot notation
function getNestedProperty(obj, path) {
    return path.split('.').reduce((current, prop) => current?.[prop], obj);
}

// Translate the page
function translatePage(lang) {
    const elements = document.querySelectorAll('[data-translate]');

    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = getNestedProperty(translations[lang], key);

        if (translation) {
            // For input placeholders
            if (element.tagName === 'INPUT') {
                element.placeholder = translation;
            }
            // For regular text content
            else {
                element.textContent = translation;
            }
        }
    });

    // Save language preference
    localStorage.setItem('corideLanguage', lang);

    // Update active language button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });

    // Update html lang attribute
    document.documentElement.lang = lang;
}

// Initialize language
function initLanguage() {
    // Check if language is saved
    let savedLang = localStorage.getItem('corideLanguage');

    // If no saved language, detect browser language
    if (!savedLang) {
        const browserLang = navigator.language.toLowerCase().split('-')[0];
        savedLang = ['en', 'es', 'de'].includes(browserLang) ? browserLang : 'en';
    }

    translatePage(savedLang);
}

// Export for use in app.js
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, translatePage, initLanguage };
}
